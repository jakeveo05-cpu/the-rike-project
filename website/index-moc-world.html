<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>The Rike | Má»˜C Â· Wood - The Knowledge Weaver</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { --wood-bright: #98fb98; --wood-green: #6bcb77; --wood-deep: #228b22; --wood-dark: #0d3d0d; --wood-glow: #50c878; --bg-dark: #0a1a0a; --bg-deep: #040d04; }
        html, body { width: 100%; height: 100%; overflow: hidden; background: var(--bg-deep); font-family: 'Montserrat', sans-serif; color: #fff; }
        .world-3d { position: fixed; top: 0; left: 0; width: 100%; height: 100%; perspective: 800px; }
        .tunnel { position: absolute; top: 50%; left: 50%; width: 100%; height: 100%; transform-style: preserve-3d; transform: translate(-50%, -50%) translateZ(0px); }
        .depth-bg { position: fixed; inset: 0; z-index: -1; background: linear-gradient(180deg, #1a3a1a 0%, #0a1a0a 50%, #040d04 100%); }
        .forest-glow { position: fixed; top: 0; left: 50%; transform: translateX(-50%); width: 120%; height: 80%; background: radial-gradient(ellipse at 50% 0%, rgba(107,203,119,0.15) 0%, transparent 60%); pointer-events: none; z-index: 1; animation: forestPulse 5s ease-in-out infinite; }
        @keyframes forestPulse { 0%, 100% { opacity: 0.7; } 50% { opacity: 1; } }
        .leaf-layer { position: fixed; inset: 0; z-index: 2; pointer-events: none; overflow: hidden; }
        .leaf { position: absolute; width: 12px; height: 12px; background: linear-gradient(135deg, var(--wood-green) 0%, var(--wood-deep) 100%); border-radius: 0 50% 50% 50%; transform: rotate(45deg); animation: leafFall linear infinite; opacity: 0; }
        @keyframes leafFall { 0% { transform: translateY(-50px) rotate(0deg); opacity: 0; } 10% { opacity: 0.7; } 90% { opacity: 0.5; } 100% { transform: translateY(100vh) rotate(720deg); opacity: 0; } }
        .ambient-glow { position: fixed; inset: 0; z-index: 3; pointer-events: none; background: radial-gradient(ellipse at 50% 50%, var(--ambient-color, rgba(107,203,119,0.1)) 0%, transparent 60%); opacity: 0.5; transition: all 0.8s; }
        .vignette { position: fixed; inset: 0; z-index: 4; pointer-events: none; background: radial-gradient(ellipse at center, transparent 30%, rgba(4,13,4,0.8) 100%); opacity: 0.4; }
        .checkpoint-glow { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 300px; height: 300px; border-radius: 50%; background: radial-gradient(circle, var(--checkpoint-color, rgba(107,203,119,0.3)) 0%, transparent 70%); z-index: 5; pointer-events: none; opacity: 0; }
        .checkpoint-glow.active { opacity: 1; animation: growPulse 2.5s ease-in-out infinite; }
        @keyframes growPulse { 0%, 100% { transform: translate(-50%, -50%) scale(1); } 50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.4; } }
        .particle-3d { position: absolute; background: var(--wood-green); border-radius: 50%; transform-style: preserve-3d; box-shadow: 0 0 8px var(--wood-glow); }
        .depth-ring { position: absolute; top: 50%; left: 50%; border: 1px solid rgba(107,203,119,0.15); border-radius: 50%; transform-style: preserve-3d; transform: translate(-50%, -50%) translateZ(var(--z)) rotateX(85deg); }
        .keyword-3d { position: absolute; top: 50%; left: 50%; transform-style: preserve-3d; transform: translate(-50%, -50%) translateZ(var(--z)) translateX(var(--x)) translateY(var(--y)); cursor: pointer; }
        .keyword-card { display: flex; align-items: center; gap: 16px; padding: 20px 28px; background: rgba(20,60,20,0.6); backdrop-filter: blur(20px); border: 1px solid rgba(107,203,119,0.3); border-radius: 16px; white-space: nowrap; transition: all 0.3s; box-shadow: 0 0 40px rgba(107,203,119,0.15); }
        .keyword-card:hover { background: rgba(30,80,30,0.7); border-color: var(--wood-green); box-shadow: 0 0 60px rgba(107,203,119,0.3); transform: scale(1.05); }
        .keyword-icon { width: 52px; height: 52px; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, rgba(107,203,119,0.25), rgba(34,139,34,0.15)); border-radius: 14px; border: 1px solid rgba(107,203,119,0.3); }
        .keyword-icon svg { width: 28px; height: 28px; stroke: var(--wood-bright); fill: none; stroke-width: 1.5; filter: drop-shadow(0 0 8px rgba(152,251,152,0.6)); }
        .keyword-text h3 { font-size: 1rem; font-weight: 700; margin-bottom: 4px; }
        .keyword-text p { font-size: 0.75rem; opacity: 0.6; }
        .keyword-3d.contact .keyword-card { background: rgba(40,100,40,0.6); border-color: var(--wood-green); }
        .ui-layer { position: fixed; inset: 0; z-index: 100; pointer-events: none; }
        .header { position: absolute; top: 0; left: 0; right: 0; padding: 24px 32px; display: flex; justify-content: space-between; align-items: center; pointer-events: auto; }
        .logo { font-size: 0.85rem; font-weight: 700; letter-spacing: 4px; color: #fff; text-decoration: none; text-shadow: 0 0 20px rgba(107,203,119,0.5); }
        .world-badge { display: flex; align-items: center; gap: 10px; padding: 10px 18px; background: rgba(20,60,20,0.5); backdrop-filter: blur(10px); border-radius: 24px; border: 1px solid rgba(107,203,119,0.3); }
        .world-badge-dot { width: 8px; height: 8px; border-radius: 50%; background: var(--wood-green); box-shadow: 0 0 12px var(--wood-green); animation: pulse 2s ease-in-out infinite; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.3); opacity: 0.7; } }
        .world-badge-text { font-size: 0.7rem; font-weight: 600; letter-spacing: 2px; }
        .depth-meter { position: absolute; right: 28px; top: 50%; transform: translateY(-50%); display: flex; flex-direction: column; align-items: center; gap: 10px; }
        .depth-value { font-size: 0.8rem; font-weight: 700; color: var(--wood-green); text-shadow: 0 0 10px var(--wood-green); }
        .depth-bar { width: 4px; height: 160px; background: rgba(107,203,119,0.15); border-radius: 4px; overflow: hidden; }
        .depth-fill { width: 100%; background: linear-gradient(180deg, var(--wood-bright), var(--wood-green), var(--wood-deep)); border-radius: 4px; box-shadow: 0 0 15px var(--wood-glow); }
        .depth-label { font-size: 0.55rem; letter-spacing: 2px; opacity: 0.5; text-transform: uppercase; }
        .scroll-hint { position: absolute; bottom: 130px; left: 50%; transform: translateX(-50%); display: flex; flex-direction: column; align-items: center; gap: 14px; opacity: 0.8; transition: opacity 0.5s; }
        .scroll-hint.hidden { opacity: 0; }
        .scroll-icon { width: 28px; height: 46px; border: 2px solid var(--wood-green); border-radius: 14px; position: relative; box-shadow: 0 0 15px rgba(107,203,119,0.4); }
        .scroll-icon::after { content: ''; position: absolute; top: 8px; left: 50%; transform: translateX(-50%); width: 5px; height: 10px; background: var(--wood-green); border-radius: 3px; animation: scrollAnim 2s ease-in-out infinite; }
        @keyframes scrollAnim { 0%, 100% { top: 8px; opacity: 1; } 50% { top: 26px; opacity: 0.3; } }
        .scroll-text { font-size: 0.7rem; letter-spacing: 3px; text-transform: uppercase; color: var(--wood-green); }
        .nav-bottom { position: absolute; bottom: 28px; left: 50%; transform: translateX(-50%); display: flex; gap: 18px; padding: 14px 24px; background: rgba(10,30,10,0.7); backdrop-filter: blur(20px); border: 1px solid rgba(255,255,255,0.1); border-radius: 50px; pointer-events: auto; }
        .nav-item { width: 44px; height: 44px; border-radius: 50%; border: 1.5px solid rgba(255,255,255,0.15); background: rgba(255,255,255,0.05); cursor: pointer; transition: all 0.3s; display: flex; align-items: center; justify-content: center; }
        .nav-item svg { width: 20px; height: 20px; stroke: currentColor; fill: none; stroke-width: 2; filter: drop-shadow(0 0 4px currentColor); }
        .nav-item:hover { transform: scale(1.15); border-color: currentColor; }
        .nav-item.active { border-color: currentColor; box-shadow: 0 0 25px currentColor; }
        .nav-item[data-agent="hoa"] { color: #ff6b6b; } .nav-item[data-agent="tho"] { color: #ffd93d; } .nav-item[data-agent="moc"] { color: #6bcb77; } .nav-item[data-agent="kim"] { color: #e0e0f0; } .nav-item[data-agent="thuy"] { color: #00d4ff; }
        .modal { position: fixed; inset: 0; z-index: 500; display: flex; justify-content: center; align-items: center; opacity: 0; visibility: hidden; transition: all 0.4s; pointer-events: none; }
        .modal.visible { opacity: 1; visibility: visible; pointer-events: auto; }
        .modal-backdrop { position: absolute; inset: 0; background: rgba(4,13,4,0.9); backdrop-filter: blur(15px); }
        .modal-content { position: relative; width: 90%; max-width: 520px; max-height: 85vh; background: linear-gradient(135deg, rgba(20,60,20,0.95), rgba(10,30,10,0.98)); border: 1px solid rgba(107,203,119,0.3); border-radius: 20px; padding: 36px; overflow-y: auto; transform: translateY(40px); transition: transform 0.4s; }
        .modal.visible .modal-content { transform: translateY(0); }
        .modal-close { position: absolute; top: 18px; right: 18px; width: 40px; height: 40px; border: 1px solid rgba(107,203,119,0.3); border-radius: 50%; background: transparent; color: #fff; font-size: 1.3rem; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; justify-content: center; }
        .modal-close:hover { background: rgba(107,203,119,0.2); transform: rotate(90deg); }
        .modal-icon { width: 68px; height: 68px; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, rgba(107,203,119,0.25), rgba(34,139,34,0.15)); border-radius: 16px; margin-bottom: 20px; }
        .modal-icon svg { width: 34px; height: 34px; stroke: var(--wood-bright); fill: none; stroke-width: 1.5; }
        .modal-badge { display: inline-block; padding: 6px 14px; background: rgba(107,203,119,0.2); border-radius: 6px; font-size: 0.6rem; font-weight: 700; letter-spacing: 2px; color: var(--wood-green); margin-bottom: 14px; }
        .modal-title { font-size: 1.5rem; font-weight: 900; margin-bottom: 6px; } .modal-subtitle { opacity: 0.5; margin-bottom: 22px; } .modal-desc { font-size: 0.9rem; line-height: 1.8; opacity: 0.85; margin-bottom: 26px; }
        .modal-features { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-bottom: 28px; }
        .modal-feature { display: flex; align-items: center; gap: 10px; padding: 12px; background: rgba(107,203,119,0.1); border-radius: 8px; font-size: 0.8rem; }
        .modal-feature-dot { width: 6px; height: 6px; border-radius: 50%; background: var(--wood-green); box-shadow: 0 0 8px var(--wood-green); }
        .modal-cta { padding: 16px 36px; background: linear-gradient(135deg, var(--wood-green), var(--wood-deep)); border: none; border-radius: 10px; font-family: inherit; font-size: 0.8rem; font-weight: 700; letter-spacing: 2px; text-transform: uppercase; color: #fff; cursor: pointer; transition: all 0.3s; }
        .modal-cta:hover { transform: translateY(-3px); box-shadow: 0 15px 50px rgba(107,203,119,0.5); }
        .contact-links { display: flex; justify-content: center; flex-wrap: wrap; gap: 14px; margin-top: 30px; }
        .contact-link { width: 80px; height: 80px; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 8px; background: rgba(107,203,119,0.15); border: 1px solid rgba(107,203,119,0.3); border-radius: 14px; text-decoration: none; color: #fff; transition: all 0.3s; }
        .contact-link:hover { background: rgba(107,203,119,0.25); transform: translateY(-5px); }
        .contact-link svg { width: 26px; height: 26px; stroke: var(--wood-bright); fill: none; stroke-width: 1.5; } .contact-link span { font-size: 0.55rem; letter-spacing: 1px; text-transform: uppercase; opacity: 0.7; }
        .music-control { position: fixed; bottom: 100px; right: 28px; z-index: 200; display: flex; align-items: center; gap: 10px; padding: 10px 16px; background: rgba(20,60,20,0.6); backdrop-filter: blur(15px); border: 1px solid rgba(107,203,119,0.3); border-radius: 30px; cursor: pointer; }
        .music-bars { display: flex; align-items: flex-end; gap: 2px; height: 16px; }
        .music-bar { width: 3px; background: var(--wood-green); border-radius: 2px; animation: musicBar 0.8s ease-in-out infinite; }
        .music-bar:nth-child(1) { height: 8px; } .music-bar:nth-child(2) { height: 14px; animation-delay: 0.2s; } .music-bar:nth-child(3) { height: 10px; animation-delay: 0.4s; } .music-bar:nth-child(4) { height: 16px; animation-delay: 0.1s; }
        .music-control.paused .music-bar { animation: none; height: 4px; }
        @keyframes musicBar { 0%, 100% { transform: scaleY(0.5); } 50% { transform: scaleY(1); } }
        .music-text { font-size: 0.6rem; letter-spacing: 1px; text-transform: uppercase; color: rgba(255,255,255,0.7); }
        .loading { position: fixed; inset: 0; background: var(--bg-deep); display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 10000; transition: opacity 1s; }
        .loading.done { opacity: 0; pointer-events: none; }
        .loading-text { font-size: 0.8rem; letter-spacing: 5px; color: var(--wood-green); margin-bottom: 28px; }
        .loading-dots { display: flex; gap: 10px; } .loading-dots span { width: 12px; height: 12px; border-radius: 50%; background: var(--wood-green); animation: loadDot 1.2s ease-in-out infinite; } .loading-dots span:nth-child(2) { animation-delay: 0.2s; } .loading-dots span:nth-child(3) { animation-delay: 0.4s; }
        @keyframes loadDot { 0%, 100% { transform: scale(0.8); opacity: 0.4; } 50% { transform: scale(1.2); opacity: 1; } }
        @media (max-width: 768px) { .keyword-card { padding: 14px 18px; } .modal-features { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <audio id="bgMusic" loop preload="auto"><source src="https://cdn.pixabay.com/audio/2022/08/04/audio_2dde668d05.mp3" type="audio/mpeg"></audio>
    <div class="loading" id="loading"><div class="loading-text">GROWING</div><div class="loading-dots"><span></span><span></span><span></span></div></div>
    <div class="music-control paused" id="musicControl"><div class="music-bars"><div class="music-bar"></div><div class="music-bar"></div><div class="music-bar"></div><div class="music-bar"></div></div><span class="music-text">Sound</span></div>
    <div class="depth-bg"></div><div class="forest-glow"></div><div class="leaf-layer" id="leafLayer"></div><div class="ambient-glow" id="ambientGlow"></div><div class="vignette"></div><div class="checkpoint-glow" id="checkpointGlow"></div>
    <div class="world-3d"><div class="tunnel" id="tunnel">
        <div class="depth-ring" style="--z: -200px; width: 600px; height: 600px;"></div><div class="depth-ring" style="--z: -500px; width: 500px; height: 500px;"></div><div class="depth-ring" style="--z: -800px; width: 400px; height: 400px;"></div>
        <div class="keyword-3d" id="kw0" data-index="0" style="--z: -300px; --x: -150px; --y: -50px;"><div class="keyword-card"><div class="keyword-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="5" r="3"/><path d="M12 8v16"/><path d="M5 12c2-2 4-3 7-3s5 1 7 3"/></svg></div><div class="keyword-text"><h3>AI Overview Optimization</h3><p>Get cited by AI</p></div></div></div>
        <div class="keyword-3d" id="kw1" data-index="1" style="--z: -600px; --x: 120px; --y: 30px;"><div class="keyword-card"><div class="keyword-icon"><svg viewBox="0 0 24 24"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></svg></div><div class="keyword-text"><h3>Entity SEO & Knowledge Graph</h3><p>Become an entity</p></div></div></div>
        <div class="keyword-3d" id="kw2" data-index="2" style="--z: -900px; --x: -100px; --y: 60px;"><div class="keyword-card"><div class="keyword-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M12 2a15 15 0 0 1 0 20 15 15 0 0 1 0-20"/><path d="M2 12h20"/></svg></div><div class="keyword-text"><h3>Content Clusters</h3><p>Topical authority</p></div></div></div>
        <div class="keyword-3d" id="kw3" data-index="3" style="--z: -1200px; --x: 80px; --y: -40px;"><div class="keyword-card"><div class="keyword-icon"><svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><path d="M14 2v6h6"/><path d="M16 13H8M16 17H8M10 9H8"/></svg></div><div class="keyword-text"><h3>Monthly Content Production</h3><p>4-8 articles/month</p></div></div></div>
        <div class="keyword-3d contact" id="kw4" data-index="4" style="--z: -1500px; --x: 0; --y: 0;"><div class="keyword-card"><div class="keyword-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4"/></svg></div><div class="keyword-text"><h3>Connect With Us</h3><p>Grow your presence</p></div></div></div>
    </div></div>
    <div class="ui-layer">
        <header class="header"><a href="index-stage-v3.html" class="logo">THE RIKE</a><div class="world-badge"><span class="world-badge-dot"></span><span class="world-badge-text">Má»˜C Â· WOOD</span></div></header>
        <div class="depth-meter"><span class="depth-value" id="depthValue">Lv.0</span><div class="depth-bar"><div class="depth-fill" id="depthFill"></div></div><span class="depth-label">Growth</span></div>
        <div class="scroll-hint" id="scrollHint"><div class="scroll-icon"></div><span class="scroll-text">Scroll to grow</span></div>
        <nav class="nav-bottom"><div class="nav-item" data-agent="hoa"><svg viewBox="0 0 24 24"><path d="M12 2c-4 4-6 8-6 11a6 6 0 0 0 12 0c0-3-2-7-6-11z"/></svg></div><div class="nav-item" data-agent="tho"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M2 12h20"/></svg></div><div class="nav-item active" data-agent="moc"><svg viewBox="0 0 24 24"><path d="M12 22V8"/><path d="M5 12l7-7 7 7"/></svg></div><div class="nav-item" data-agent="kim"><svg viewBox="0 0 24 24"><polygon points="12 2 15 8 22 9 17 14 18 21 12 18 6 21 7 14 2 9 9 8"/></svg></div><div class="nav-item" data-agent="thuy"><svg viewBox="0 0 24 24"><path d="M12 2c-4 6-7 10-7 14a7 7 0 0 0 14 0c0-4-3-8-7-14z"/></svg></div></nav>
    </div>
    <div class="modal" id="serviceModal"><div class="modal-backdrop" id="serviceBackdrop"></div><div class="modal-content"><button class="modal-close" id="serviceClose">Ã—</button><div class="modal-icon" id="modalIcon"></div><span class="modal-badge">Má»˜C Â· WOOD</span><h2 class="modal-title" id="modalTitle"></h2><p class="modal-subtitle" id="modalSubtitle"></p><p class="modal-desc" id="modalDesc"></p><div class="modal-features" id="modalFeatures"></div><button class="modal-cta">Grow Now â†’</button></div></div>
    <div class="modal" id="contactModal"><div class="modal-backdrop" id="contactBackdrop"></div><div class="modal-content" style="text-align:center;"><button class="modal-close" id="contactClose">Ã—</button><h2 class="modal-title">Connect With Us</h2><p class="modal-subtitle">Choose your preferred channel</p><div class="contact-links"><a href="#" class="contact-link"><svg viewBox="0 0 24 24"><rect x="2" y="4" width="20" height="16" rx="2"/><path d="M22 6l-10 7L2 6"/></svg><span>Email</span></a><a href="#" class="contact-link"><svg viewBox="0 0 24 24"><path d="M9 12a4 4 0 1 0 4 4V4c1 2 3 3 5 3"/></svg><span>TikTok</span></a><a href="#" class="contact-link"><svg viewBox="0 0 24 24"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/></svg><span>Facebook</span></a><a href="#" class="contact-link"><svg viewBox="0 0 24 24"><rect x="2" y="2" width="20" height="20" rx="5"/><circle cx="12" cy="12" r="4"/></svg><span>Instagram</span></a><a href="#" class="contact-link"><svg viewBox="0 0 24 24"><circle cx="9" cy="12" r="1"/><circle cx="15" cy="12" r="1"/><rect x="2" y="6" width="20" height="12" rx="4"/></svg><span>Discord</span></a></div></div></div>
    <script>
    const SERVICES=[{icon:`<svg viewBox="0 0 24 24"><circle cx="12" cy="5" r="3"/><path d="M12 8v16"/><path d="M5 12c2-2 4-3 7-3s5 1 7 3"/></svg>`,title:'AI Overview Optimization',subtitle:'Get cited by AI',desc:'Optimize your content to be cited by Google AI Overview and ChatGPT. The new frontier of SEO.',features:['Entity optimization','Structured data','Answer targeting','Citation building']},{icon:`<svg viewBox="0 0 24 24"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></svg>`,title:'Entity SEO & Knowledge Graph',subtitle:'Become an entity',desc:'Build your brand as an entity in Knowledge Graph. Increase authority and trust signals.',features:['Wikipedia strategy','Wikidata entries','Brand mentions','Co-occurrence building']},{icon:`<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M12 2a15 15 0 0 1 0 20"/></svg>`,title:'Content Clusters',subtitle:'Topical authority',desc:'Create content clusters to dominate entire topics. Not just rank for one keyword, but own the topic.',features:['Pillar content','Supporting articles','Internal linking','Topic mapping']},{icon:`<svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><path d="M14 2v6h6"/></svg>`,title:'Monthly Content Production',subtitle:'4-8 articles/month',desc:'High-quality content produced consistently. AI-assisted writing with human expert editing.',features:['Keyword research','AI drafting','Expert editing','SEO optimization']}];
    const CHECKPOINTS=[{z:300,color:'rgba(152,251,152,0.25)'},{z:600,color:'rgba(107,203,119,0.25)'},{z:900,color:'rgba(80,200,120,0.25)'},{z:1200,color:'rgba(50,180,80,0.3)'},{z:1500,color:'rgba(107,203,119,0.35)'}];
    const leafLayer=document.getElementById('leafLayer');for(let i=0;i<25;i++){const l=document.createElement('div');l.className='leaf';l.style.left=Math.random()*100+'%';l.style.animationDuration=(Math.random()*12+8)+'s';l.style.animationDelay=Math.random()*15+'s';l.style.width=(Math.random()*10+8)+'px';l.style.height=l.style.width;leafLayer.appendChild(l);}
    const tunnel=document.getElementById('tunnel'),keywords=document.querySelectorAll('.keyword-3d');let currentZ=0,targetZ=0,velocity=0;const MAX_Z=1600;
    window.addEventListener('wheel',e=>{e.preventDefault();velocity+=e.deltaY*0.5},{passive:false});let touchY=0;window.addEventListener('touchstart',e=>touchY=e.touches[0].clientY);window.addEventListener('touchmove',e=>{e.preventDefault();velocity+=(touchY-e.touches[0].clientY)*2;touchY=e.touches[0].clientY},{passive:false});
    for(let i=0;i<40;i++){const p=document.createElement('div');p.className='particle-3d';p.style.cssText=`left:${Math.random()*100}%;top:${Math.random()*100}%;width:${Math.random()*4+2}px;height:${Math.random()*4+2}px;transform:translateZ(${-Math.random()*1500}px);opacity:${Math.random()*0.5+0.3};`;tunnel.appendChild(p);}
    function animate(){requestAnimationFrame(animate);velocity*=0.92;targetZ+=velocity*0.1;targetZ=Math.max(0,Math.min(MAX_Z,targetZ));currentZ+=(targetZ-currentZ)*0.08;tunnel.style.transform=`translate(-50%,-50%) translateZ(${currentZ}px)`;const progress=currentZ/MAX_Z;document.getElementById('depthValue').textContent='Lv.'+Math.floor(progress*10);document.getElementById('depthFill').style.height=(progress*100)+'%';let nearestCP=null,nearestDist=Infinity;CHECKPOINTS.forEach(cp=>{const dist=Math.abs(currentZ-cp.z);if(dist<200&&dist<nearestDist){nearestDist=dist;nearestCP=cp;}});const cpGlow=document.getElementById('checkpointGlow');if(nearestCP){cpGlow.classList.add('active');cpGlow.style.setProperty('--checkpoint-color',nearestCP.color);}else{cpGlow.classList.remove('active');}if(progress>0.02)document.getElementById('scrollHint').classList.add('hidden');keywords.forEach(kw=>{const kwZ=parseFloat(kw.style.getPropertyValue('--z')),relativeZ=kwZ+currentZ,scale=Math.max(0.2,Math.min(2,1+relativeZ/400));let opacity=1;if(relativeZ>100)opacity=Math.max(0,1-(relativeZ-100)/200);if(relativeZ<-300)opacity=Math.max(0,1+(relativeZ+300)/500);kw.style.opacity=opacity;kw.querySelector('.keyword-card').style.transform=`scale(${scale})`;kw.style.pointerEvents=opacity>0.3?'auto':'none';});}animate();
    keywords.forEach((kw,i)=>{kw.addEventListener('click',()=>{if(i===4){document.getElementById('contactModal').classList.add('visible');}else{const s=SERVICES[i];document.getElementById('modalIcon').innerHTML=s.icon;document.getElementById('modalTitle').textContent=s.title;document.getElementById('modalSubtitle').textContent=s.subtitle;document.getElementById('modalDesc').textContent=s.desc;document.getElementById('modalFeatures').innerHTML=s.features.map(f=>`<div class="modal-feature"><span class="modal-feature-dot"></span>${f}</div>`).join('');document.getElementById('serviceModal').classList.add('visible');}});});
    ['serviceClose','serviceBackdrop','contactClose','contactBackdrop'].forEach(id=>{document.getElementById(id).addEventListener('click',()=>{document.querySelectorAll('.modal').forEach(m=>m.classList.remove('visible'));});});document.addEventListener('keydown',e=>{if(e.key==='Escape')document.querySelectorAll('.modal').forEach(m=>m.classList.remove('visible'));});
    document.querySelectorAll('.nav-item').forEach(item=>{item.addEventListener('click',()=>{const agent=item.dataset.agent;if(agent!=='moc')window.location.href=`index-${agent}-world.html`;});});
    const bgMusic=document.getElementById('bgMusic'),musicControl=document.getElementById('musicControl');bgMusic.volume=0.25;musicControl.addEventListener('click',()=>{if(bgMusic.paused){bgMusic.play();musicControl.classList.remove('paused');}else{bgMusic.pause();musicControl.classList.add('paused');}});document.addEventListener('click',function init(){bgMusic.play().then(()=>musicControl.classList.remove('paused')).catch(()=>{});document.removeEventListener('click',init);},{once:true});
    window.addEventListener('load',()=>setTimeout(()=>document.getElementById('loading').classList.add('done'),1500));console.log('ðŸŒ¿ Má»˜C World - The Knowledge Weaver');
    </script>
</body>
</html>
